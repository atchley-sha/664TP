# Projected Traffic

{{< include ../setup.qmd >}}

Part of this analysis involves determining the number of trips that are expected to visit the site. This includes trips made with the express purpose of visiting a location in the development, as well as "pass-by" trips where the ultimate destination is somewhere else. Each of the separate land uses has distinct baseline trip rates, as well as different parameters for adjusting these rates to obtain final projected trips.

## Trip Generation

\acr{ITE} provides several resources for estimating trip generation of new developments. The primary of these is the Trip Generation Manual [@instituteoftransportationengineers2021], but these baseline trip generation rates do not account for trips internal to the site, or for "pass-by" trips. The following section discusses the baseline \acr{ITE}-provided trip rates along with the trip reductions due to these factors. @tbl-tripgen-passby provides the trip rates after the reductions.

### Base Trip Generation

The initial estimates for trip generation are given from the \acr{ITE} Trip Generation Manual. For this report, only an analysis of the weekday PM peak period is performed, due to the scope of the assignment. @tbl-base-tripgen gives the baseline trip generation as provided by the Manual. These initial estimates seem reasonable, noting that these are the trips in the peak hour. See @sec-apdx-tripgen for the Manual references used in these calculations.

```{r}
#| label: tbl-base-tripgen
#| tbl-cap: "ITE Trip Generation (Baseline)"

tar_read(tripgen) %>% 
  select(-(mu_enter:last_col())) %>% 
  flextable() %>% 
  colformat_md(j = "xvar") %>% 
  mk_par(j = "eqn", value = as_paragraph(as_equation(.)), use_dot = TRUE) %>% 
  set_header_labels(desc = "Description", pad = "Pad", code = "ITE Land\nUse Code", xval = "Variable\nValue", xvar = "Variable\nUnit", eqn = "Trip Generation\nEquation", trips_enter = "Entering\nTrips", trips_exit = "Exiting\nTrips", trips_tot = "Total\nTrips") %>% 
  autofit() %>% 
  align(align = "c", part = "a")
```

### Multi-use Reduction

Since these land uses share a development site, a multi-use trip reduction may be applied. This accounts for trips that are made from one location in the development site to another, and thus do not use the adjacent roadways. Information on the multi-use capture rates was obtained from the \acr{ITE} Trip Generation Handbook [@instituteoftransportationengineers2014], and the relevant information is summarized in @tbl-ite-multi-use-rates. The reduced trip rates are given in @tbl-tripgen-multiuse, and @sec-apdx-tripgen contains more detailed calculations.

```{r}
#| label: tbl-ite-multi-use-rates
#| tbl-cap: "ITE Multi-use Capture Rates"

tribble(
  ~trips, ~rate,
  "From Office to Retail", "23%",
  "From Retail to Office", "3%",
  "To Office from Retail", "31%",
  "To Retail from Office", "2%"
) %>% 
  flextable() %>% 
  set_header_labels(trips = "Trip Movement", rate = "Capture Rate") %>% 
  autofit() %>% 
  align(align = "c", part = "a")
```

```{r}
#| label: tbl-tripgen-multiuse
#| tbl-cap: "Trips After Multi-use Reduction"

tar_read(tripgen) %>% 
  select(desc, code, mu_enter, mu_exit, mu_tot) %>% 
  flextable() %>% 
  set_header_labels(desc = "Description", code = "ITE Land\nUse Code", mu_enter = "Entering\nTrips", mu_exit = "Exiting\nTrips", mu_tot = "Total\nTrips") %>% 
  autofit() %>% 
  align(align = "c", part = "a")
```

### Pass-by Reduction

The \acr{ITE} Trip Generation Manual also provides information on pass-by trip reductions. These indicate trips that otherwise would have passed the development, and are "stopping by" the site rather than making a dedicated "new" trip to the site. Two of the proposed land uses---the restaurant and the hardware store---are given pass-by reduction rates of 43% and 26%, respectively. The office land use has no pass-by reduction, which is logical as most office trips would be for employment and not leisure. @tbl-tripgen-passby presents the new calculated trips after these reductions.

```{r}
#| label: tbl-tripgen-passby
#| tbl-cap: "Pass-By Trips"

tar_read(tripgen) %>% 
  select(desc, code, pb_rate, pb_enter, pb_exit, pb_tot) %>% 
  flextable() %>% 
  set_header_labels(desc = "Description", code = "ITE Land\nUse Code", pb_rate = "Pass-by\nReduction Rate", pb_enter = "Entering\nTrips", pb_exit = "Exiting\nTrips", pb_tot = "Total\nTrips") %>% 
  autofit() %>% 
  align(align = "c", part = "a")
```

## Modal Split

This analysis will be done in full in the future, but a mode split reduction of 1% is assumed. This will be used to calculate trip numbers for trip assignment on new trips, but not pass-by trips as those are assumed (almost by definition) to all be vehicular.